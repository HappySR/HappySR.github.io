import{b as H,h as A,a as L,E as O,H as Y,c as v,r as F,s as U,d as b,f as e,g as h,p as N,U as j,i as B,j as C,k as M,u as P,q as Z,S as w}from"./BVHMsi6E.js";function G(a,c,[r,s]=[0,0]){A&&r===0&&L();var i=a,f=null,l=null,u=j,k=r>0?O:0,n=!1;const q=(T,t=!0)=>{n=!0,E(t,T)},E=(T,t)=>{if(u===(u=T))return;let S=!1;if(A&&s!==-1){if(r===0){const I=i.data;I===Y?s=0:I===v?s=1/0:(s=parseInt(I.substring(1)),s!==s&&(s=u?1/0:-1))}const D=s>r;!!u===D&&(i=F(),U(i),b(!1),S=!0,s=-1)}u?(f?e(f):t&&(f=h(()=>t(i))),l&&N(l,()=>{l=null})):(l?e(l):t&&(l=h(()=>t(i,[r+1,s]))),f&&N(f,()=>{f=null})),S&&b(!0)};H(()=>{n=!1,c(q),n||E(null,null)},k),A&&(i=B)}function R(a,c){return a===c||(a==null?void 0:a[w])===c}function J(a={},c,r,s){return C(()=>{var i,f;return M(()=>{i=f,f=(s==null?void 0:s())||[],P(()=>{a!==r(...f)&&(c(a,...f),i&&R(r(...i),a)&&c(null,...i))})}),()=>{Z(()=>{f&&R(r(...f),a)&&c(null,...f)})}}),a}export{J as b,G as i};
